jQuery.plot.plugins.push({init:function(s){s.hooks.processDatapoints.push((function(s,n,o){if(null!=n.stack&&!1!==n.stack){var t=n.bars.show||n.lines.show&&n.lines.fill,i=o.pointsize>2&&(n.bars.horizontal?o.format[2].x:o.format[2].y);t&&!i&&function(s,n){for(var o=[],t=0;t<n.points.length;t+=2)o.push(n.points[t]),o.push(n.points[t+1]),o.push(0);n.format.push({x:s.bars.horizontal,y:!s.bars.horizontal,number:!0,required:!1,computeRange:"none"!==s.yaxis.options.autoScale,defaultValue:0}),n.points=o,n.pointsize=3}(n,o);var l=function(s,n){for(var o=null,t=0;t<n.length&&s!==n[t];++t)n[t].stack===s.stack&&(o=n[t]);return o}(n,s.getData());if(l){for(var e,a,u,r,p,f,h,c,g=o.pointsize,z=o.points,k=l.datapoints.pointsize,b=l.datapoints.points,m=[],v=n.lines.show,d=n.bars.horizontal,y=v&&n.lines.steps,w=!0,x=d?1:0,D=d?0:1,j=0,q=0;!(j>=z.length);){if(h=m.length,null==z[j]){for(c=0;c<g;++c)m.push(z[j+c]);j+=g}else if(q>=b.length){if(!v)for(c=0;c<g;++c)m.push(z[j+c]);j+=g}else if(null==b[q]){for(c=0;c<g;++c)m.push(null);w=!0,q+=k}else{if(e=z[j+x],a=z[j+D],r=b[q+x],p=b[q+D],f=0,e===r){for(c=0;c<g;++c)m.push(z[j+c]);m[h+D]+=p,f=p,j+=g,q+=k}else if(e>r){if(v&&j>0&&null!=z[j-g]){for(u=a+(z[j-g+D]-a)*(r-e)/(z[j-g+x]-e),m.push(r),m.push(u+p),c=2;c<g;++c)m.push(z[j+c]);f=p}q+=k}else{if(w&&v){j+=g;continue}for(c=0;c<g;++c)m.push(z[j+c]);v&&q>0&&null!=b[q-k]&&(f=p+(b[q-k+D]-p)*(e-r)/(b[q-k+x]-r)),m[h+D]+=f,j+=g}w=!1,h!==m.length&&t&&(m[h+2]+=f)}if(y&&h!==m.length&&h>0&&null!==m[h]&&m[h]!==m[h-g]&&m[h+1]!==m[h-g+1]){for(c=0;c<g;++c)m[h+g+c]=m[h+c];m[h+1]=m[h-g+1]}}o.points=m}}}))},options:{series:{stack:null}},name:"stack",version:"1.2"});