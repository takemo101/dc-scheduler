!function(e){"use strict";var t=e.plot.browser,i="click",o="hover";e.plot.plugins.push({init:function(a){var n,r=[];function s(e){var t=a.getOptions(),i=new CustomEvent("mouseevent");return i.pageX=e.detail.changedTouches[0].pageX,i.pageY=e.detail.changedTouches[0].pageY,i.clientX=e.detail.changedTouches[0].clientX,i.clientY=e.detail.changedTouches[0].clientY,t.grid.hoverable&&l(i,o,30),!1}function l(e,t,i){var o=a.getData();if(void 0!==e&&o.length>0&&void 0!==o[0].xaxis.c2p&&void 0!==o[0].yaxis.c2p){var n=t+"able";d("plot"+t,e,(function(e){return!1!==o[e][n]}),i)}}function c(e){n=e,a.getPlaceholder()[0].lastMouseMoveEvent=e,l(e,o)}function h(e){n=void 0,a.getPlaceholder()[0].lastMouseMoveEvent=void 0,d("plothover",e,(function(e){return!1}))}function p(e){l(e,i)}function u(){a.unhighlight(),a.getPlaceholder().trigger("plothovercleanup")}function d(e,i,o,n){var s=a.getOptions(),l=a.offset(),c=t.getPageXY(i),h=c.X-l.left,p=c.Y-l.top,u=a.c2p({left:h,top:p}),d=void 0!==n?n:s.grid.mouseActiveRadius;u.pageX=c.X,u.pageY=c.Y;var f=a.findNearbyItems(h,p,o,d),b=f[0];for(let e=1;e<f.length;++e)(void 0===b.distance||f[e].distance<b.distance)&&(b=f[e]);if(b?(b.pageX=parseInt(b.series.xaxis.p2c(b.datapoint[0])+l.left,10),b.pageY=parseInt(b.series.yaxis.p2c(b.datapoint[1])+l.top,10)):b=null,s.grid.autoHighlight){for(let t=0;t<r.length;++t){var m=r[t];(m.auto!==e||b&&m.series===b.series&&m.point[0]===b.datapoint[0]&&m.point[1]===b.datapoint[1])&&b||v(m.series,m.point)}b&&g(b.series,b.datapoint,e)}a.getPlaceholder().trigger(e,[u,b,f])}function g(e,t,i){if("number"==typeof e&&(e=a.getData()[e]),"number"==typeof t){var o=e.datapoints.pointsize;t=e.datapoints.points.slice(o*t,o*(t+1))}var n=f(e,t);-1===n?(r.push({series:e,point:t,auto:i}),a.triggerRedrawOverlay()):i||(r[n].auto=!1)}function v(e,t){if(null==e&&null==t)return r=[],void a.triggerRedrawOverlay();if("number"==typeof e&&(e=a.getData()[e]),"number"==typeof t){var i=e.datapoints.pointsize;t=e.datapoints.points.slice(i*t,i*(t+1))}var o=f(e,t);-1!==o&&(r.splice(o,1),a.triggerRedrawOverlay())}function f(e,t){for(var i=0;i<r.length;++i){var o=r[i];if(o.series===e&&o.point[0]===t[0]&&o.point[1]===t[1])return i}return-1}function b(){u(),l(n,o)}function m(){l(n,o)}function y(e,t,i){var o,a,n=e.getPlotOffset();for(t.save(),t.translate(n.left,n.top),o=0;o<r.length;++o)(a=r[o]).series.bars.show?x(a.series,a.point,t):k(a.series,a.point,t,e);t.restore()}function k(t,i,o,a){var n=i[0],r=i[1],s=t.xaxis,l=t.yaxis,c="string"==typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString();if(!(n<s.min||n>s.max||r<l.min||r>l.max)){var h=t.points.radius+t.points.lineWidth/2;o.lineWidth=h,o.strokeStyle=c;var p=1.5*h;n=s.p2c(n),r=l.p2c(r),o.beginPath();var u=t.points.symbol;"circle"===u?o.arc(n,r,p,0,2*Math.PI,!1):"string"==typeof u&&a.drawSymbol&&a.drawSymbol[u]&&a.drawSymbol[u](o,n,r,p,!1),o.closePath(),o.stroke()}}function x(t,i,o){var a,n="string"==typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString(),r=n,s=t.bars.barWidth[0]||t.bars.barWidth;switch(t.bars.align){case"left":a=0;break;case"right":a=-s;break;default:a=-s/2}o.lineWidth=t.bars.lineWidth,o.strokeStyle=n;var l=t.bars.fillTowards||0,c=l>t.yaxis.min?Math.min(t.yaxis.max,l):t.yaxis.min;e.plot.drawSeries.drawBar(i[0],i[1],i[2]||c,a,a+s,(function(){return r}),t.xaxis,t.yaxis,o,t.bars.horizontal,t.bars.lineWidth)}a.hooks.bindEvents.push((function(e,t){var i=e.getOptions();(i.grid.hoverable||i.grid.clickable)&&(t[0].addEventListener("touchevent",u,!1),t[0].addEventListener("tap",s,!1)),i.grid.clickable&&t.bind("click",p),i.grid.hoverable&&(t.bind("mousemove",c),t.bind("mouseleave",h))})),a.hooks.shutdown.push((function(e,t){t[0].removeEventListener("tap",s),t[0].removeEventListener("touchevent",u),t.unbind("mousemove",c),t.unbind("mouseleave",h),t.unbind("click",p),r=[]})),a.hooks.processOptions.push((function(e,t){e.highlight=g,e.unhighlight=v,(t.grid.hoverable||t.grid.clickable)&&(e.hooks.drawOverlay.push(y),e.hooks.processDatapoints.push(b),e.hooks.setupGrid.push(m)),n=e.getPlaceholder()[0].lastMouseMoveEvent}))},options:{grid:{hoverable:!1,clickable:!1}},name:"hover",version:"0.1"})}(jQuery);