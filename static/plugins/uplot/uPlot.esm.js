const FEAT_TIME=!0;function closestIdx(e,l,t,n){let i;t=t||0;let s=(n=n||l.length-1)<=2147483647;for(;n-t>1;)i=s?t+n>>1:floor((t+n)/2),l[i]<e?t=i:n=i;return e-l[t]<=l[n]-e?t:n}function nonNullIdx(e,l,t,n){for(let i=1==n?l:t;i>=l&&i<=t;i+=n)if(null!=e[i])return i;return-1}function getMinMax(e,l,t,n){let i=inf,s=-inf;if(1==n)i=e[l],s=e[t];else if(-1==n)i=e[t],s=e[l];else for(let n=l;n<=t;n++)null!=e[n]&&(i=min(i,e[n]),s=max(s,e[n]));return[i,s]}function getMinMaxLog(e,l,t){let n=inf,i=-inf;for(let s=l;s<=t;s++)e[s]>0&&(n=min(n,e[s]),i=max(i,e[s]));return[n==inf?1:n,i==-inf?10:i]}const _fixedTuple=[0,0];function fixIncr(e,l,t,n){return _fixedTuple[0]=t<0?roundDec(e,-t):e,_fixedTuple[1]=n<0?roundDec(l,-n):l,_fixedTuple}function rangeLog(e,l,t,n){let i,s,o,r=sign(e),a=10==t?log10:log2;return e==l&&(-1==r?(e*=t,l/=t):(e/=t,l*=t)),n?(i=floor(a(e)),s=ceil(a(l)),o=fixIncr(pow(t,i),pow(t,s),i,s),e=o[0],l=o[1]):(i=floor(a(abs(e))),s=floor(a(abs(l))),o=fixIncr(pow(t,i),pow(t,s),i,s),e=incrRoundDn(e,o[0]),l=incrRoundUp(l,o[1])),[e,l]}function rangeAsinh(e,l,t,n){let i=rangeLog(e,l,t,n);return 0==e&&(i[0]=0),0==l&&(i[1]=0),i}const rangePad=.1,autoRangePart={mode:3,pad:.1},_eqRangePart={pad:0,soft:null,mode:0},_eqRange={min:_eqRangePart,max:_eqRangePart};function rangeNum(e,l,t,n){return isObj(t)?_rangeNum(e,l,t):(_eqRangePart.pad=t,_eqRangePart.soft=n?0:null,_eqRangePart.mode=n?3:0,_rangeNum(e,l,_eqRange))}function ifNull(e,l){return null==e?l:e}function _rangeNum(e,l,t){let n=t.min,i=t.max,s=ifNull(n.pad,0),o=ifNull(i.pad,0),r=ifNull(n.hard,-inf),a=ifNull(i.hard,inf),u=ifNull(n.soft,inf),c=ifNull(i.soft,-inf),f=ifNull(n.mode,0),p=ifNull(i.mode,0),d=l-e;d<1e-9&&(d=0,0!=e&&0!=l||(d=1e-9,2==f&&u!=inf&&(s=0),2==p&&c!=-inf&&(o=0)));let m=d||abs(l)||1e3,h=log10(m),g=pow(10,floor(h)),x=roundDec(incrRoundDn(e-m*(0==d?0==e?.1:1:s),g/10),9),_=e>=u&&(1==f||3==f&&x<=u||2==f&&x>=u)?u:inf,S=max(r,x<_&&e>=_?_:min(_,x)),w=roundDec(incrRoundUp(l+m*(0==d?0==l?.1:1:o),g/10),9),y=l<=c&&(1==p||3==p&&w>=c||2==p&&w<=c)?c:-inf,T=min(a,w>y&&l<=y?y:max(y,w));return S==T&&0==S&&(T=100),[S,T]}const fmtNum=new Intl.NumberFormat(navigator.language).format,M=Math,PI=M.PI,abs=M.abs,floor=M.floor,round=M.round,ceil=M.ceil,min=M.min,max=M.max,pow=M.pow,sign=M.sign,log10=M.log10,log2=M.log2,sinh=(e,l=1)=>M.sinh(e/l),asinh=(e,l=1)=>M.asinh(e/l),inf=1/0;function incrRound(e,l){return round(e/l)*l}function clamp(e,l,t){return min(max(e,l),t)}function fnOrSelf(e){return"function"==typeof e?e:()=>e}const retArg0=e=>e,retArg1=(e,l)=>l,retNull=e=>null,retTrue=e=>!0,retEq=(e,l)=>e==l;function incrRoundUp(e,l){return ceil(e/l)*l}function incrRoundDn(e,l){return floor(e/l)*l}function roundDec(e,l){return round(e*(l=10**l))/l}const fixedDec=new Map;function guessDec(e){return((""+e).split(".")[1]||"").length}function genIncrs(e,l,t,n){let i=[],s=n.map(guessDec);for(let o=l;o<t;o++){let l=abs(o),t=roundDec(pow(e,o),l);for(let e=0;e<n.length;e++){let r=n[e]*t,a=(r>=0&&o>=0?0:l)+(o>=s[e]?0:s[e]),u=roundDec(r,a);i.push(u),fixedDec.set(u,a)}}return i}const EMPTY_OBJ={},EMPTY_ARR=[],nullNullTuple=[null,null],isArr=Array.isArray;function isStr(e){return"string"==typeof e}function isObj(e){let l=!1;if(null!=e){let t=e.constructor;l=null==t||t==Object}return l}function fastIsObj(e){return null!=e&&"object"==typeof e}function copy(e,l=isObj){let t;if(isArr(e)){let n=e.find((e=>null!=e));if(isArr(n)||l(n)){t=Array(e.length);for(let n=0;n<e.length;n++)t[n]=copy(e[n],l)}else t=e.slice()}else if(l(e)){t={};for(let n in e)t[n]=copy(e[n],l)}else t=e;return t}function assign(e){let l=arguments;for(let t=1;t<l.length;t++){let n=l[t];for(let l in n)isObj(e[l])?assign(e[l],copy(n[l])):e[l]=copy(n[l])}return e}const NULL_REMOVE=0,NULL_RETAIN=1,NULL_EXPAND=2;function nullExpand(e,l,t){for(let n,i=0,s=-1;i<l.length;i++){let o=l[i];if(o>s){for(n=o-1;n>=0&&null==e[n];)e[n--]=null;for(n=o+1;n<t&&null==e[n];)e[s=n++]=null}}}function join(e,l){let t=new Set;for(let l=0;l<e.length;l++){let n=e[l][0],i=n.length;for(let e=0;e<i;e++)t.add(n[e])}let n=[Array.from(t).sort(((e,l)=>e-l))],i=n[0].length,s=new Map;for(let e=0;e<i;e++)s.set(n[0][e],e);for(let t=0;t<e.length;t++){let o=e[t],r=o[0];for(let e=1;e<o.length;e++){let a=o[e],u=Array(i).fill(void 0),c=l?l[t][e]:1,f=[];for(let e=0;e<a.length;e++){let l=a[e],t=s.get(r[e]);null===l?0!=c&&(u[t]=l,2==c&&f.push(t)):u[t]=l}nullExpand(u,f,i),n.push(u)}}return n}const microTask="undefined"==typeof queueMicrotask?e=>Promise.resolve().then(e):queueMicrotask,WIDTH="width",HEIGHT="height",TOP="top",BOTTOM="bottom",LEFT="left",RIGHT="right",hexBlack="#000",transparent="#0000",mousemove="mousemove",mousedown="mousedown",mouseup="mouseup",mouseenter="mouseenter",mouseleave="mouseleave",dblclick="dblclick",resize="resize",scroll="scroll",change="change",dppxchange="dppxchange",pre="u-",UPLOT="uplot",ORI_HZ="u-hz",ORI_VT="u-vt",TITLE="u-title",WRAP="u-wrap",UNDER="u-under",OVER="u-over",OFF="u-off",SELECT="u-select",CURSOR_X="u-cursor-x",CURSOR_Y="u-cursor-y",CURSOR_PT="u-cursor-pt",LEGEND="u-legend",LEGEND_LIVE="u-live",LEGEND_INLINE="u-inline",LEGEND_THEAD="u-thead",LEGEND_SERIES="u-series",LEGEND_MARKER="u-marker",LEGEND_LABEL="u-label",LEGEND_VALUE="u-value",doc=document,win=window;let pxRatio,query;function setPxRatio(){let e=devicePixelRatio;pxRatio!=e&&(pxRatio=e,query&&off(change,query,setPxRatio),query=matchMedia(`(min-resolution: ${pxRatio-.001}dppx) and (max-resolution: ${pxRatio+.001}dppx)`),on(change,query,setPxRatio),win.dispatchEvent(new CustomEvent(dppxchange)))}function addClass(e,l){if(null!=l){let t=e.classList;!t.contains(l)&&t.add(l)}}function remClass(e,l){let t=e.classList;t.contains(l)&&t.remove(l)}function setStylePx(e,l,t){e.style[l]=t+"px"}function placeTag(e,l,t,n){let i=doc.createElement(e);return null!=l&&addClass(i,l),null!=t&&t.insertBefore(i,n),i}function placeDiv(e,l){return placeTag("div",e,l)}const xformCache=new WeakMap;function elTrans(e,l,t,n,i){let s="translate("+l+"px,"+t+"px)";s!=xformCache.get(e)&&(e.style.transform=s,xformCache.set(e,s),l<0||t<0||l>n||t>i?addClass(e,OFF):remClass(e,OFF))}const colorCache=new WeakMap;function elColor(e,l,t){let n=l+t;n!=colorCache.get(e)&&(colorCache.set(e,n),e.style.background=l,e.style.borderColor=t)}const sizeCache=new WeakMap;function elSize(e,l){l!=sizeCache.get(e)&&(sizeCache.set(e,l),e.style.height=e.style.width=l+"px",e.style.marginLeft=e.style.marginTop=-l/2+"px")}const evOpts={passive:!0},evOpts2=assign({capture:!0},evOpts);function on(e,l,t,n){l.addEventListener(e,t,n?evOpts2:evOpts)}function off(e,l,t,n){l.removeEventListener(e,t,n?evOpts2:evOpts)}setPxRatio();const months=["January","February","March","April","May","June","July","August","September","October","November","December"],days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function slice3(e){return e.slice(0,3)}const days3=days.map(slice3),months3=months.map(slice3),engNames={MMMM:months,MMM:months3,WWWW:days,WWW:days3};function zeroPad2(e){return(e<10?"0":"")+e}function zeroPad3(e){return(e<10?"00":e<100?"0":"")+e}const subs={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+"").slice(2),MMMM:(e,l)=>l.MMMM[e.getMonth()],MMM:(e,l)=>l.MMM[e.getMonth()],MM:e=>zeroPad2(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>zeroPad2(e.getDate()),D:e=>e.getDate(),WWWW:(e,l)=>l.WWWW[e.getDay()],WWW:(e,l)=>l.WWW[e.getDay()],HH:e=>zeroPad2(e.getHours()),H:e=>e.getHours(),h:e=>{let l=e.getHours();return 0==l?12:l>12?l-12:l},AA:e=>e.getHours()>=12?"PM":"AM",aa:e=>e.getHours()>=12?"pm":"am",a:e=>e.getHours()>=12?"p":"a",mm:e=>zeroPad2(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>zeroPad2(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>zeroPad3(e.getMilliseconds())};function fmtDate(e,l){l=l||engNames;let t,n=[],i=/\{([a-z]+)\}|[^{]+/gi;for(;t=i.exec(e);)n.push("{"==t[0][0]?subs[t[1]]:t[0]);return e=>{let t="";for(let i=0;i<n.length;i++)t+="string"==typeof n[i]?n[i]:n[i](e,l);return t}}const localTz=(new Intl.DateTimeFormat).resolvedOptions().timeZone;function tzDate(e,l){let t;return"UTC"==l||"Etc/UTC"==l?t=new Date(+e+6e4*e.getTimezoneOffset()):l==localTz?t=e:(t=new Date(e.toLocaleString("en-US",{timeZone:l})),t.setMilliseconds(e.getMilliseconds())),t}const onlyWhole=e=>e%1==0,allMults=[1,2,2.5,5],decIncrs=genIncrs(10,-16,0,allMults),oneIncrs=genIncrs(10,0,16,allMults),wholeIncrs=oneIncrs.filter(onlyWhole),numIncrs=decIncrs.concat(oneIncrs),NL="\n",yyyy="{YYYY}",NLyyyy=NL+yyyy,md="{M}/{D}",NLmd=NL+md,NLmdyy=NLmd+"/{YY}",aa="{aa}",hmm="{h}:{mm}",hmmaa=hmm+aa,NLhmmaa=NL+hmmaa,ss=":{ss}",_=null;function genTimeStuffs(e){let l=1e3*e,t=60*l,n=60*t,i=24*n,s=30*i,o=365*i;return[(1==e?genIncrs(10,0,3,allMults).filter(onlyWhole):genIncrs(10,-3,0,allMults)).concat([l,5*l,10*l,15*l,30*l,t,5*t,10*t,15*t,30*t,n,2*n,3*n,4*n,6*n,8*n,12*n,i,2*i,3*i,4*i,5*i,6*i,7*i,8*i,9*i,10*i,15*i,s,2*s,3*s,4*s,6*s,o,2*o,5*o,10*o,25*o,50*o,100*o]),[[o,yyyy,_,_,_,_,_,_,1],[28*i,"{MMM}",NLyyyy,_,_,_,_,_,1],[i,md,NLyyyy,_,_,_,_,_,1],[n,"{h}"+aa,NLmdyy,_,NLmd,_,_,_,1],[t,hmmaa,NLmdyy,_,NLmd,_,_,_,1],[l,ss,NLmdyy+" "+hmmaa,_,NLmd+" "+hmmaa,_,NLhmmaa,_,1],[e,ss+".{fff}",NLmdyy+" "+hmmaa,_,NLmd+" "+hmmaa,_,NLhmmaa,_,1]],function(l){return(r,a,u,c,f,p)=>{let d=[],m=f>=o,h=f>=s&&f<o,g=l(u),x=roundDec(g*e,3),_=mkDate(g.getFullYear(),m?0:g.getMonth(),h||m?1:g.getDate()),S=roundDec(_*e,3);if(h||m){let t=h?f/s:0,n=m?f/o:0,i=x==S?x:roundDec(mkDate(_.getFullYear()+n,_.getMonth()+t,1)*e,3),r=new Date(round(i/e)),a=r.getFullYear(),u=r.getMonth();for(let s=0;i<=c;s++){let o=mkDate(a+n*s,u+t*s,1),r=o-l(roundDec(o*e,3));i=roundDec((+o+r)*e,3),i<=c&&d.push(i)}}else{let s=f>=i?i:f,o=S+(floor(u)-floor(x))+incrRoundUp(x-S,s);d.push(o);let m=l(o),h=m.getHours()+m.getMinutes()/t+m.getSeconds()/n,g=f/n,_=p/r.axes[a]._space;for(;o=roundDec(o+f,1==e?0:3),!(o>c);)if(g>1){let e=floor(roundDec(h+g,6))%24,t=l(o).getHours()-e;t>1&&(t=-1),o-=t*n,h=(h+g)%24,roundDec((o-d[d.length-1])/f,3)*_>=.7&&d.push(o)}else d.push(o)}return d}}]}const[timeIncrsMs,_timeAxisStampsMs,timeAxisSplitsMs]=genTimeStuffs(1),[timeIncrsS,_timeAxisStampsS,timeAxisSplitsS]=genTimeStuffs(.001);function timeAxisStamps(e,l){return e.map((e=>e.map(((t,n)=>0==n||8==n||null==t?t:l(1==n||0==e[8]?t:e[1]+t)))))}function timeAxisVals(e,l){return(t,n,i,s,o)=>{let r,a,u,c,f,p,d=l.find((e=>o>=e[0]))||l[l.length-1];return n.map((l=>{let t=e(l),n=t.getFullYear(),i=t.getMonth(),s=t.getDate(),o=t.getHours(),m=t.getMinutes(),h=t.getSeconds(),g=n!=r&&d[2]||i!=a&&d[3]||s!=u&&d[4]||o!=c&&d[5]||m!=f&&d[6]||h!=p&&d[7]||d[1];return r=n,a=i,u=s,c=o,f=m,p=h,g(t)}))}}function timeAxisVal(e,l){let t=fmtDate(l);return(l,n,i,s,o)=>n.map((l=>t(e(l))))}function mkDate(e,l,t){return new Date(e,l,t)}function timeSeriesStamp(e,l){return l(e)}genIncrs(2,-53,53,[1]);const _timeSeriesStamp="{YYYY}-{MM}-{DD} {h}:{mm}{aa}";function timeSeriesVal(e,l){return(t,n)=>l(e(n))}function legendStroke(e,l){let t=e.series[l];return t.width?t.stroke(e,l):t.points.width?t.points.stroke(e,l):null}function legendFill(e,l){return e.series[l].fill(e,l)}const legendOpts={show:!0,live:!0,isolate:!1,markers:{show:!0,width:2,stroke:legendStroke,fill:legendFill,dash:"solid"},idx:null,idxs:null,values:[]};function cursorPointShow(e,l){let t=e.cursor.points,n=placeDiv(),i=t.size(e,l);setStylePx(n,WIDTH,i),setStylePx(n,HEIGHT,i);let s=i/-2;setStylePx(n,"marginLeft",s),setStylePx(n,"marginTop",s);let o=t.width(e,l,i);return o&&setStylePx(n,"borderWidth",o),n}function cursorPointFill(e,l){let t=e.series[l].points;return t._fill||t._stroke}function cursorPointStroke(e,l){let t=e.series[l].points;return t._stroke||t._fill}function cursorPointSize(e,l){return ptDia(e.series[l].points.width,1)}function dataIdx(e,l,t){return t}const moveTuple=[0,0];function cursorMove(e,l,t){return moveTuple[0]=l,moveTuple[1]=t,moveTuple}function filtBtn0(e,l,t){return e=>{0==e.button&&t(e)}}function passThru(e,l,t){return t}const cursorOpts={show:!0,x:!0,y:!0,lock:!1,move:cursorMove,points:{show:cursorPointShow,size:cursorPointSize,width:0,stroke:cursorPointStroke,fill:cursorPointFill},bind:{mousedown:filtBtn0,mouseup:filtBtn0,click:filtBtn0,dblclick:filtBtn0,mousemove:passThru,mouseleave:passThru,mouseenter:passThru},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,_x:!1,_y:!1},focus:{prox:-1},left:-10,top:-10,idx:null,dataIdx,idxs:null},grid={show:!0,stroke:"rgba(0,0,0,0.07)",width:2,filter:retArg1},ticks=assign({},grid,{size:10}),font='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',labelFont="bold "+font,lineMult=1.5,xAxisOpts={show:!0,scale:"x",stroke:"#000",space:50,gap:5,size:50,labelGap:0,labelSize:30,labelFont,side:2,grid,ticks,font,rotate:0},numSeriesLabel="Value",timeSeriesLabel="Time",xSeriesOpts={show:!0,scale:"x",auto:!1,sorted:1,min:inf,max:-inf,idxs:[]};function numAxisVals(e,l,t,n,i){return l.map((e=>null==e?"":fmtNum(e)))}function numAxisSplits(e,l,t,n,i,s,o){let r=[],a=fixedDec.get(i)||0;for(let e=t=o?t:roundDec(incrRoundUp(t,i),a);e<=n;e=roundDec(e+i,a))r.push(Object.is(e,-0)?0:e);return r}function logAxisSplits(e,l,t,n,i,s,o){const r=[],a=e.scales[e.axes[l].scale].log,u=floor((10==a?log10:log2)(t));i=pow(a,u),u<0&&(i=roundDec(i,-u));let c=t;do{r.push(c),c=roundDec(c+i,fixedDec.get(i)),c>=i*a&&(i=c)}while(c<=n);return r}function asinhAxisSplits(e,l,t,n,i,s,o){let r=e.scales[e.axes[l].scale].asinh,a=n>r?logAxisSplits(e,l,max(r,t),n,i):[r],u=n>=0&&t<=0?[0]:[];return(t<-r?logAxisSplits(e,l,max(r,-n),-t,i):[r]).reverse().map((e=>-e)).concat(u,a)}const RE_ALL=/./,RE_12357=/[12357]/,RE_125=/[125]/,RE_1=/1/;function logAxisValsFilt(e,l,t,n,i){let s=e.axes[t],o=s.scale,r=e.scales[o];if(3==r.distr&&2==r.log)return l;let a=e.valToPos,u=s._space,c=a(10,o),f=a(9,o)-c>=u?RE_ALL:a(7,o)-c>=u?RE_12357:a(5,o)-c>=u?RE_125:RE_1;return l.map((e=>4==r.distr&&0==e||f.test(e)?e:null))}function numSeriesVal(e,l){return null==l?"":fmtNum(l)}const yAxisOpts={show:!0,scale:"y",stroke:"#000",space:30,gap:5,size:50,labelGap:0,labelSize:30,labelFont,side:3,grid,ticks,font,rotate:0};function ptDia(e,l){return roundDec((3+2*(e||1))*l,3)}function seriesPointsShow(e,l){let{scale:t,idxs:n}=e.series[0],i=e._data[0],s=e.valToPos(i[n[0]],t,!0),o=e.valToPos(i[n[1]],t,!0),r=abs(o-s)/(e.series[l].points.space*pxRatio);return n[1]-n[0]<=r}function seriesFillTo(e,l,t,n){let i=e.scales[e.series[l].scale],s=e.bands&&e.bands.some((e=>e.series[0]==l));return 3==i.distr||s?i.min:0}const facet={scale:null,auto:!0,min:inf,max:-inf},xySeriesOpts={show:!0,auto:!0,sorted:0,alpha:1,facets:[assign({},facet,{scale:"x"}),assign({},facet,{scale:"y"})]},ySeriesOpts={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:(e,l,t,n,i)=>i,alpha:1,points:{show:seriesPointsShow,filter:null},values:null,min:inf,max:-inf,idxs:[],path:null,clip:null};function clampScale(e,l,t,n,i){return t/10}const xScaleOpts={time:true,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},yScaleOpts=assign({},xScaleOpts,{time:!1,ori:1}),syncs={};function _sync(e,l){let t=syncs[e];return t||(t={key:e,plots:[],sub(e){t.plots.push(e)},unsub(e){t.plots=t.plots.filter((l=>l!=e))},pub(e,l,n,i,s,o,r){for(let a=0;a<t.plots.length;a++)t.plots[a]!=l&&t.plots[a].pub(e,l,n,i,s,o,r)}},null!=e&&(syncs[e]=t)),t}const BAND_CLIP_FILL=1,BAND_CLIP_STROKE=2;function orient(e,l,t){const n=e.series[l],i=e.scales,s=e.bbox,o=2==e.mode?i[n.facets[0].scale]:i[e.series[0].scale];let r=e._data[0],a=e._data[l],u=o,c=2==e.mode?i[n.facets[1].scale]:i[n.scale],f=s.left,p=s.top,d=s.width,m=s.height,h=e.valToPosH,g=e.valToPosV;return 0==u.ori?t(n,r,a,u,c,h,g,f,p,d,m,moveToH,lineToH,rectH,arcH,bezierCurveToH):t(n,r,a,u,c,g,h,p,f,m,d,moveToV,lineToV,rectV,arcV,bezierCurveToV)}function clipBandLine(e,l,t,n,i){return orient(e,l,((e,l,s,o,r,a,u,c,f,p,d)=>{const m=o.dir*(0==o.ori?1:-1),h=0==o.ori?lineToH:lineToV;let g,x;1==m?(g=t,x=n):(g=n,x=t);let _=incrRound(a(l[g],o,p,c),.5),S=incrRound(u(s[g],r,d,f),.5),w=incrRound(a(l[x],o,p,c),.5),y=incrRound(u(r.max,r,d,f),.5),T=new Path2D(i);return h(T,w,y),h(T,_,y),h(T,_,S),T}))}function clipGaps(e,l,t,n,i,s){let o=null;if(e.length>0){o=new Path2D;const r=0==l?rectH:rectV;let a=t;for(let l=0;l<e.length;l++){let t=e[l];t[1]>t[0]&&(r(o,a,n,t[0]-a,n+s),a=t[1])}r(o,a,n,t+i-a,n+s)}return o}function addGap(e,l,t){let n=e[e.length-1];n&&n[0]==l?n[1]=t:e.push([l,t])}function pxRoundGen(e){return 0==e?retArg0:1==e?round:l=>incrRound(l,e)}function moveToH(e,l,t){e.moveTo(l,t)}function moveToV(e,l,t){e.moveTo(t,l)}function lineToH(e,l,t){e.lineTo(l,t)}function lineToV(e,l,t){e.lineTo(t,l)}function rectH(e,l,t,n,i){e.rect(l,t,n,i)}function rectV(e,l,t,n,i){e.rect(t,l,i,n)}function arcH(e,l,t,n,i,s){e.arc(l,t,n,i,s)}function arcV(e,l,t,n,i,s){e.arc(t,l,n,i,s)}function bezierCurveToH(e,l,t,n,i,s,o){e.bezierCurveTo(l,t,n,i,s,o)}function bezierCurveToV(e,l,t,n,i,s,o){e.bezierCurveTo(t,l,i,n,o,s)}function points(e){return(e,l,t,n,i)=>orient(e,l,((l,s,o,r,a,u,c,f,p,d,m)=>{let h,g,{pxRound:x,points:_}=l;0==r.ori?(h=moveToH,g=arcH):(h=moveToV,g=arcV);const S=roundDec(_.width*pxRatio,3);let w=(_.size-_.width)/2*pxRatio,y=roundDec(2*w,3),T=new Path2D,b=new Path2D,{left:v,top:R,width:D,height:P}=e.bbox;rectH(b,v-y,R-y,D+2*y,P+2*y);const O=e=>{if(null!=o[e]){let l=x(u(s[e],r,d,f)),t=x(c(o[e],a,m,p));h(T,l+w,t),g(T,l,t,w,0,2*PI)}};if(i)i.forEach(O);else for(let e=t;e<=n;e++)O(e);return{stroke:S>0?T:null,fill:T,clip:b,flags:3}}))}function _drawAcc(e){return(l,t,n,i,s,o)=>{n!=i&&(s!=n&&o!=n&&e(l,t,n),s!=i&&o!=i&&e(l,t,i),e(l,t,o))}}const drawAccH=_drawAcc(lineToH),drawAccV=_drawAcc(lineToV);function linear(){return(e,l,t,n)=>orient(e,l,((i,s,o,r,a,u,c,f,p,d,m)=>{let h,g,x=i.pxRound;0==r.ori?(h=lineToH,g=drawAccH):(h=lineToV,g=drawAccV);const _=r.dir*(0==r.ori?1:-1),S={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:1},w=S.stroke;let y,T,b,v,R=inf,D=-inf,P=[],O=x(u(s[1==_?t:n],r,d,f)),E=!1,M=!1,k=nonNullIdx(o,t,n,1*_),A=nonNullIdx(o,t,n,-1*_),N=incrRound(u(s[k],r,d,f),.5),L=incrRound(u(s[A],r,d,f),.5);N>f&&addGap(P,f,N);for(let e=1==_?t:n;e>=t&&e<=n;e+=_){let l=x(u(s[e],r,d,f));if(l==O)null!=o[e]?(T=x(c(o[e],a,m,p)),R==inf&&(h(w,l,T),y=T),R=min(T,R),D=max(T,D)):null===o[e]&&(E=M=!0);else{let t=!1;R!=inf?(g(w,O,R,D,y,T),b=v=O):E&&(t=!0,E=!1),null!=o[e]?(T=x(c(o[e],a,m,p)),h(w,l,T),R=D=y=T,M&&l-O>1&&(t=!0),M=!1):(R=inf,D=-inf,null===o[e]&&(E=!0,l-O>1&&(t=!0))),t&&addGap(P,b,l),O=l}}if(R!=inf&&R!=D&&v!=O&&g(w,O,R,D,y,T),L<f+d&&addGap(P,L,f+d),null!=i.fill){let t=S.fill=new Path2D(w),n=x(c(i.fillTo(e,l,i.min,i.max),a,m,p));h(t,L,n),h(t,N,n)}return S.gaps=P=i.gaps(e,l,t,n,P),i.spanGaps||(S.clip=clipGaps(P,r.ori,f,p,d,m)),e.bands.length>0&&(S.band=clipBandLine(e,l,t,n,w)),S}))}function stepped(e){const l=ifNull(e.align,1),t=ifNull(e.ascDesc,!1);return(e,n,i,s)=>orient(e,n,((o,r,a,u,c,f,p,d,m,h,g)=>{let x=o.pxRound,_=0==u.ori?lineToH:lineToV;const S={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:1},w=S.stroke,y=1*u.dir*(0==u.ori?1:-1);i=nonNullIdx(a,i,s,1),s=nonNullIdx(a,i,s,-1);let T=[],b=!1,v=x(p(a[1==y?i:s],c,g,m)),R=x(f(r[1==y?i:s],u,h,d)),D=R;_(w,R,v);for(let e=1==y?i:s;e>=i&&e<=s;e+=y){let n=a[e],i=x(f(r[e],u,h,d));if(null==n){null===n&&(addGap(T,D,i),b=!0);continue}let s=x(p(n,c,g,m));if(b){if(addGap(T,D,i),v!=s){let e=o.width*pxRatio/2,n=T[T.length-1];n[0]+=t||1==l?e:-e,n[1]-=t||-1==l?e:-e}b=!1}1==l?_(w,i,v):_(w,D,s),_(w,i,s),v=s,D=i}if(null!=o.fill){let l=S.fill=new Path2D(w),t=x(p(o.fillTo(e,n,o.min,o.max),c,g,m));_(l,D,t),_(l,R,t)}return S.gaps=T=o.gaps(e,n,i,s,T),o.spanGaps||(S.clip=clipGaps(T,u.ori,d,m,h,g)),e.bands.length>0&&(S.band=clipBandLine(e,n,i,s,w)),S}))}function bars(e){const l=ifNull((e=e||EMPTY_OBJ).size,[.6,inf,1]),t=e.align||0,n=(e.gap||0)*pxRatio,i=1-l[0],s=ifNull(l[1],inf)*pxRatio,o=ifNull(l[2],1)*pxRatio,r=e.disp,a=ifNull(e.each,(e=>{}));return(e,l,u,c)=>orient(e,l,((f,p,d,m,h,g,x,_,S,w,y)=>{let T=f.pxRound;const b=m.dir*(0==m.ori?1:-1),v=h.dir*(1==h.ori?1:-1);let R,D,P=0==m.ori?rectH:rectV,O=0==m.ori?a:(e,l,t,n,i,s,o)=>{a(e,l,t,i,n,o,s)},E=x(f.fillTo(e,l,f.min,f.max),h,y,S),M=T(f.width*pxRatio);if(null!=r){p=r.x0.values(e,l,u,c),2==r.x0.unit&&(p=p.map((l=>e.posToVal(_+l*w,m.key,!0))));let t=r.size.values(e,l,u,c);D=2==r.size.unit?t[0]*w:g(t[0],m,w,_)-g(0,m,w,_),D=T(D-M),R=1==b?-M/2:D+M/2}else{let e=w;if(p.length>1)for(let l=1,t=1/0;l<p.length;l++){let n=abs(p[l]-p[l-1]);n<t&&(t=n,e=abs(g(p[l],m,w,_)-g(p[l-1],m,w,_)))}D=T(min(s,max(o,e-e*i))-M-n),R=(0==t?D/2:t==b?0:D)-t*b*n/2}const k={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:3},A=e.bands.length>0;let N;A&&(k.band=new Path2D,N=incrRound(x(h.max,h,y,S),.5));const L=k.stroke,I=k.band;for(let t=1==b?u:c;t>=u&&t<=c;t+=b){let n=d[t],i=g(2!=m.distr||null!=r?p[t]:t,m,w,_),s=x(n,h,y,S),o=T(i-R),a=T(max(s,E)),u=T(min(s,E)),c=a-u;null!=d[t]&&(P(L,o,u,D,c),O(e,l,t,o-M/2,u-M/2,D+M,c+M)),A&&(1==v?(a=u,u=N):(u=a,a=N),c=a-u,P(I,o-M/2,u+M/2,D+M,c-M))}return null!=f.fill&&(k.fill=new Path2D(L)),k}))}function splineInterp(e,l){return(l,t,n,i)=>orient(l,t,((s,o,r,a,u,c,f,p,d,m,h)=>{let g,x,_,S=s.pxRound;0==a.ori?(g=moveToH,_=lineToH,x=bezierCurveToH):(g=moveToV,_=lineToV,x=bezierCurveToV);const w=1*a.dir*(0==a.ori?1:-1);n=nonNullIdx(r,n,i,1),i=nonNullIdx(r,n,i,-1);let y=[],T=!1,b=S(c(o[1==w?n:i],a,m,p)),v=b,R=[],D=[];for(let e=1==w?n:i;e>=n&&e<=i;e+=w){let l=r[e],t=c(o[e],a,m,p);null!=l?(T&&(addGap(y,v,t),T=!1),R.push(v=t),D.push(f(r[e],u,h,d))):null===l&&(addGap(y,v,t),T=!0)}const P={stroke:e(R,D,g,_,x,S),fill:null,clip:null,band:null,gaps:null,flags:1},O=P.stroke;if(null!=s.fill&&null!=O){let e=P.fill=new Path2D(O),n=S(f(s.fillTo(l,t,s.min,s.max),u,h,d));_(e,v,n),_(e,b,n)}return P.gaps=y=s.gaps(l,t,n,i,y),s.spanGaps||(P.clip=clipGaps(y,a.ori,p,d,m,h)),l.bands.length>0&&(P.band=clipBandLine(l,t,n,i,O)),P}))}function monotoneCubic(e){return splineInterp(_monotoneCubic)}function _monotoneCubic(e,l,t,n,i,s){const o=e.length;if(o<2)return null;const r=new Path2D;if(t(r,e[0],l[0]),2==o)n(r,e[1],l[1]);else{let t=Array(o),n=Array(o-1),s=Array(o-1),a=Array(o-1);for(let t=0;t<o-1;t++)s[t]=l[t+1]-l[t],a[t]=e[t+1]-e[t],n[t]=s[t]/a[t];t[0]=n[0];for(let e=1;e<o-1;e++)0===n[e]||0===n[e-1]||n[e-1]>0!=n[e]>0?t[e]=0:(t[e]=3*(a[e-1]+a[e])/((2*a[e]+a[e-1])/n[e-1]+(a[e]+2*a[e-1])/n[e]),isFinite(t[e])||(t[e]=0));t[o-1]=n[o-2];for(let n=0;n<o-1;n++)i(r,e[n]+a[n]/3,l[n]+t[n]*a[n]/3,e[n+1]-a[n]/3,l[n+1]-t[n+1]*a[n]/3,e[n+1],l[n+1])}return r}const cursorPlots=new Set;function invalidateRects(){cursorPlots.forEach((e=>{e.syncRect(!0)}))}on(resize,win,invalidateRects),on(scroll,win,invalidateRects,!0);const linearPath=linear(),pointsPath=points();function setDefaults(e,l,t,n){return(n?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map(((e,n)=>setDefault(e,n,l,t)))}function setDefaults2(e,l){return e.map(((e,t)=>0==t?null:assign({},l,e)))}function setDefault(e,l,t,n){return assign({},0==l?t:n,e)}function snapNumX(e,l,t){return null==l?nullNullTuple:[l,t]}const snapTimeX=snapNumX;function snapNumY(e,l,t){return null==l?nullNullTuple:rangeNum(l,t,.1,!0)}function snapLogY(e,l,t,n){return null==l?nullNullTuple:rangeLog(l,t,e.scales[n].log,!1)}const snapLogX=snapLogY;function snapAsinhY(e,l,t,n){return null==l?nullNullTuple:rangeAsinh(l,t,e.scales[n].log,!1)}const snapAsinhX=snapAsinhY;function findIncr(e,l,t,n,i){let s=n/(l-e),o=(""+floor(e)).length;for(var r=0;r<t.length;r++){let e=t[r]*s,l=t[r]<10?fixedDec.get(t[r]):0;if(e>=i&&o+l<17)return[t[r],e]}return[0,0]}function pxRatioFont(e){let l,t;return[e=e.replace(/(\d+)px/,((e,n)=>(l=round((t=+n)*pxRatio))+"px")),l,t]}function syncFontSize(e){e.show&&[e.font,e.labelFont].forEach((e=>{let l=roundDec(e[2]*pxRatio,1);e[0]=e[0].replace(/[0-9.]+px/,l+"px"),e[1]=l}))}function uPlot(e,l,t){const n={mode:e.mode??1},i=n.mode;function s(e,l){return((3==l.distr?log10(e>0?e:l.clamp(n,e,l.min,l.max,l.key)):4==l.distr?asinh(e,l.asinh):e)-l._min)/(l._max-l._min)}function o(e,l,t,n){let i=s(e,l);return n+t*(-1==l.dir?1-i:i)}function r(e,l,t,n){let i=s(e,l);return n+t*(-1==l.dir?i:1-i)}function a(e,l,t,n){return 0==l.ori?o(e,l,t,n):r(e,l,t,n)}n.valToPosH=o,n.valToPosV=r;let u=!1;n.status=0;const c=n.root=placeDiv(UPLOT);if(null!=e.id&&(c.id=e.id),addClass(c,e.class),e.title){placeDiv(TITLE,c).textContent=e.title}const f=placeTag("canvas"),p=n.ctx=f.getContext("2d"),d=placeDiv(WRAP,c),m=n.under=placeDiv(UNDER,d);d.appendChild(f);const h=n.over=placeDiv(OVER,d),g=+ifNull((e=copy(e)).pxAlign,1),x=pxRoundGen(g);(e.plugins||[]).forEach((l=>{l.opts&&(e=l.opts(n,e)||e)}));const _=e.ms||.001,S=n.series=1==i?setDefaults(e.series||[],xSeriesOpts,ySeriesOpts,!1):setDefaults2(e.series||[null],xySeriesOpts),w=n.axes=setDefaults(e.axes||[],xAxisOpts,yAxisOpts,!0),y=n.scales={},T=n.bands=e.bands||[];T.forEach((e=>{e.fill=fnOrSelf(e.fill||null)}));const b=2==i?S[1].facets[0].scale:S[0].scale,v={axes:function(){for(let e=0;e<w.length;e++){let l=w[e];if(!l.show||!l._show)return;let t,i,s=l.side,o=s%2,r=l.stroke(n,e),u=0==s||3==s?-1:1;if(l.label){let e=l.labelGap*u,n=round((l._lpos+e)*pxRatio);Be(l.labelFont[0],r,"center",2==s?TOP:BOTTOM),p.save(),1==o?(t=i=0,p.translate(n,round(oe+ae/2)),p.rotate((3==s?-PI:PI)/2)):(t=round(se+re/2),i=n),p.fillText(l.label,t,i),p.restore()}let[c,f]=l._found;if(0==f)return;let d=y[l.scale],m=0==o?re:ae,h=0==o?se:oe,g=round(l.gap*pxRatio),_=l._splits,S=2==d.distr?_.map((e=>Fe[e])):_,T=2==d.distr?Fe[_[1]]-Fe[_[0]]:c,b=l.ticks,v=b.show?round(b.size*pxRatio):0,R=l._rotate*-PI/180,D=x(l._pos*pxRatio),P=D+(v+g)*u;i=0==o?P:0,t=1==o?P:0;let O=l.font[0],E=1==l.align?LEFT:2==l.align?RIGHT:R>0?LEFT:R<0?RIGHT:0==o?"center":3==s?RIGHT:LEFT;Be(O,r,E,R||1==o?"middle":2==s?TOP:BOTTOM);let M=1.5*l.font[1],k=_.map((e=>x(a(e,d,m,h)))),A=l._values;for(let e=0;e<A.length;e++){let l=A[e];if(null!=l){0==o?t=k[e]:i=k[e],l=""+l;let n=-1==l.indexOf("\n")?[l]:l.split(/\n/gm);for(let e=0;e<n.length;e++){let l=n[e];R?(p.save(),p.translate(t,i+e*M),p.rotate(R),p.fillText(l,0,0),p.restore()):p.fillText(l,t,i+e*M)}}}b.show&&Ze(k,b.filter(n,S,e,f,T),o,s,D,v,roundDec(b.width*pxRatio,3),b.stroke(n,e),b.dash,b.cap);let N=l.grid;N.show&&Ze(k,N.filter(n,S,e,f,T),o,0==o?2:1,0==o?oe:se,0==o?ae:re,roundDec(N.width*pxRatio,3),N.stroke(n,e),N.dash,N.cap)}Kl("drawAxes")},series:function(){Re>0&&(S.forEach(((e,t)=>{if(t>0&&e.show&&null==e._paths){let i=function(e){let l=clamp(De-1,0,Re-1),t=clamp(Pe+1,0,Re-1);for(;null==e[l]&&l>0;)l--;for(;null==e[t]&&t<Re-1;)t++;return[l,t]}(l[t]);e._paths=e.paths(n,t,i[0],i[1])}})),S.forEach(((e,l)=>{if(l>0&&e.show){He!=e.alpha&&(p.globalAlpha=He=e.alpha),qe(l,!1),e._paths&&je(l,!1);{qe(l,!0);let t=e.points.show(n,l,De,Pe),i=e.points.filter(n,l,t,e._paths?e._paths.gaps:null);(t||i)&&(e.points._paths=e.points.paths(n,l,De,Pe,i),je(l,!0))}1!=He&&(p.globalAlpha=He=1),Kl("drawSeries",l)}})))}},R=(e.drawOrder||["axes","series"]).map((e=>v[e]));function D(l){let t=y[l];if(null==t){let n=(e.scales||EMPTY_OBJ)[l]||EMPTY_OBJ;if(null!=n.from)D(n.from),y[l]=assign({},y[n.from],n);else{t=y[l]=assign({},l==b?xScaleOpts:yScaleOpts,n),2==i&&(t.time=!1),t.key=l;let e=t.time,s=t.range,o=isArr(s);if((l!=b||2==i)&&(!o||null!=s[0]&&null!=s[1]||(s={min:null==s[0]?autoRangePart:{mode:1,hard:s[0],soft:s[0]},max:null==s[1]?autoRangePart:{mode:1,hard:s[1],soft:s[1]}},o=!1),!o&&isObj(s))){let e=s;s=(l,t,n)=>null==t?nullNullTuple:rangeNum(t,n,e)}t.range=fnOrSelf(s||(e?snapTimeX:l==b?3==t.distr?snapLogX:4==t.distr?snapAsinhX:snapNumX:3==t.distr?snapLogY:4==t.distr?snapAsinhY:snapNumY)),t.auto=fnOrSelf(!o&&t.auto),t.clamp=fnOrSelf(t.clamp||clampScale),t._min=t._max=null}}}D("x"),D("y"),1==i&&S.forEach((e=>{D(e.scale)})),w.forEach((e=>{D(e.scale)}));for(let l in e.scales)D(l);const P=y[b],O=P.distr;let E,M;0==P.ori?(addClass(c,"u-hz"),E=o,M=r):(addClass(c,"u-vt"),E=r,M=o);const k={};for(let e in y){let l=y[e];null==l.min&&null==l.max||(k[e]={min:l.min,max:l.max},l.min=l.max=null)}const A=e.tzDate||(e=>new Date(round(e/_))),N=e.fmtDate||fmtDate,L=1==_?timeAxisSplitsMs(A):timeAxisSplitsS(A),I=timeAxisVals(A,timeAxisStamps(1==_?_timeAxisStampsMs:_timeAxisStampsS,N)),z=timeSeriesVal(A,timeSeriesStamp(_timeSeriesStamp,N)),C=[],H=n.legend=assign({},legendOpts,e.legend),F=H.show,V=H.markers;let G;H.idxs=C,V.width=fnOrSelf(V.width),V.dash=fnOrSelf(V.dash),V.stroke=fnOrSelf(V.stroke),V.fill=fnOrSelf(V.fill);let Y,W=[],B=[],U=!1,q={};if(H.live){const e=S[1]?S[1].values:null;U=null!=e,Y=U?e(n,1,0):{_:0};for(let e in Y)q[e]="--"}if(F)if(G=placeTag("table",LEGEND,c),U){let e=placeTag("tr","u-thead",G);for(var j in placeTag("th",null,e),Y)placeTag("th","u-label",e).textContent=j}else addClass(G,"u-inline"),H.live&&addClass(G,"u-live");const X={show:!0},J={show:!1};const K=new Map;function Z(e,l,t){const i=K.get(l)||{},s=ge.bind[e](n,l,t);s&&(on(e,l,i[e]=s),K.set(l,i))}function $(e,l,t){const n=K.get(l)||{};for(let t in n)null!=e&&t!=e||(off(t,l,n[t]),delete n[t]);null==e&&K.delete(l)}let Q=0,ee=0,le=0,te=0,ne=0,ie=0,se=0,oe=0,re=0,ae=0;n.bbox={};let ue=!1,ce=!1,fe=!1,pe=!1,de=!1;function me(e,l,t){(t||e!=n.width||l!=n.height)&&he(e,l),el(!1),fe=!0,ce=!0,pe=de=ge.left>=0,ml()}function he(e,l){n.width=Q=le=e,n.height=ee=te=l,ne=ie=0,function(){let e=!1,l=!1,t=!1,n=!1;w.forEach(((i,s)=>{if(i.show&&i._show){let{side:s,_size:o}=i,r=s%2,a=o+(i.labelSize=null!=i.label?i.labelSize||30:0);a>0&&(r?(le-=a,3==s?(ne+=a,n=!0):t=!0):(te-=a,0==s?(ie+=a,e=!0):l=!0))}})),ye[0]=e,ye[1]=t,ye[2]=l,ye[3]=n,le-=ve[1]+ve[3],ne+=ve[3],te-=ve[2]+ve[0],ie+=ve[0]}(),function(){let e=ne+le,l=ie+te,t=ne,n=ie;function i(i,s){switch(i){case 1:return e+=s,e-s;case 2:return l+=s,l-s;case 3:return t-=s,t+s;case 0:return n-=s,n+s}}w.forEach(((e,l)=>{if(e.show&&e._show){let l=e.side;e._pos=i(l,e._size),null!=e.label&&(e._lpos=i(l,e.labelSize))}}))}();let t=n.bbox;se=t.left=incrRound(ne*pxRatio,.5),oe=t.top=incrRound(ie*pxRatio,.5),re=t.width=incrRound(le*pxRatio,.5),ae=t.height=incrRound(te*pxRatio,.5)}n.setSize=function({width:e,height:l}){me(e,l)};const ge=n.cursor=assign({},cursorOpts,{drag:{y:2==i}},e.cursor);{ge.idxs=C,ge._lock=!1;let e=ge.points;e.show=fnOrSelf(e.show),e.size=fnOrSelf(e.size),e.stroke=fnOrSelf(e.stroke),e.width=fnOrSelf(e.width),e.fill=fnOrSelf(e.fill)}const xe=n.focus=assign({},e.focus||{alpha:.3},ge.focus),_e=xe.prox>=0;let Se=[null];function we(e,l){if(1==i||l>0){let l=1==i&&y[e.scale].time,t=e.value;e.value=l?isStr(t)?timeSeriesVal(A,timeSeriesStamp(t,N)):t||z:t||numSeriesVal,e.label=e.label||(l?"Time":"Value")}if(l>0){e.width=null==e.width?1:e.width,e.paths=e.paths||linearPath||retNull,e.fillTo=fnOrSelf(e.fillTo||seriesFillTo),e.pxAlign=+ifNull(e.pxAlign,g),e.pxRound=pxRoundGen(e.pxAlign),e.stroke=fnOrSelf(e.stroke||null),e.fill=fnOrSelf(e.fill||null),e._stroke=e._fill=e._paths=e._focus=null;let l=ptDia(e.width,1),t=e.points=assign({},{size:l,width:max(1,.2*l),stroke:e.stroke,space:2*l,paths:pointsPath,_stroke:null,_fill:null},e.points);t.show=fnOrSelf(t.show),t.filter=fnOrSelf(t.filter),t.fill=fnOrSelf(t.fill),t.stroke=fnOrSelf(t.stroke),t.paths=fnOrSelf(t.paths),t.pxAlign=e.pxAlign}if(F){let t=function(e,l){if(0==l&&(U||!H.live||2==i))return nullNullTuple;let t=[],s=placeTag("tr","u-series",G,G.childNodes[l]);addClass(s,e.class),e.show||addClass(s,OFF);let o=placeTag("th",null,s);if(V.show){let e=placeDiv("u-marker",o);if(l>0){let t=V.width(n,l);t&&(e.style.border=t+"px "+V.dash(n,l)+" "+V.stroke(n,l)),e.style.background=V.fill(n,l)}}let r=placeDiv("u-label",o);for(var a in r.textContent=e.label,l>0&&(V.show||(r.style.color=e.width>0?V.stroke(n,l):V.fill(n,l)),Z("click",o,(l=>{if(ge._lock)return;let t=S.indexOf(e);if(l.ctrlKey!=H.isolate){let e=S.some(((e,l)=>l>0&&l!=t&&e.show));S.forEach(((l,n)=>{n>0&&Rl(n,e?n==t?X:J:X,!0,Zl.setSeries)}))}else Rl(t,{show:!e.show},!0,Zl.setSeries)})),_e&&Z(mouseenter,o,(l=>{ge._lock||Rl(S.indexOf(e),El,!0,Zl.setSeries)}))),Y){let e=placeTag("td","u-value",s);e.textContent="--",t.push(e)}return[s,t]}(e,l);W.splice(l,0,t[0]),B.splice(l,0,t[1]),H.values.push(null)}if(ge.show){C.splice(l,0,null);let t=function(e,l){if(l>0){let t=ge.points.show(n,l);if(t)return addClass(t,CURSOR_PT),addClass(t,e.class),elTrans(t,-10,-10,le,te),h.insertBefore(t,Se[l]),t}}(e,l);t&&Se.splice(l,0,t)}}n.addSeries=function(e,l){e=setDefault(e,l=null==l?S.length:l,xSeriesOpts,ySeriesOpts),S.splice(l,0,e),we(S[l],l)},n.delSeries=function(e){if(S.splice(e,1),F){H.values.splice(e,1),B.splice(e,1);let l=W.splice(e,1)[0];$(null,l.firstChild),l.remove()}ge.show&&(C.splice(e,1),Se.length>1&&Se.splice(e,1)[0].remove())};const ye=[!1,!1,!1,!1];function Te(e,l,t,n){let[i,s,o,r]=t,a=l%2,u=0;return 0==a&&(r||s)&&(u=0==l&&!i||2==l&&!o?round(xAxisOpts.size/3):0),1==a&&(i||o)&&(u=1==l&&!s||3==l&&!r?round(yAxisOpts.size/2):0),u}const be=n.padding=(e.padding||[Te,Te,Te,Te]).map((e=>fnOrSelf(ifNull(e,Te)))),ve=n._padding=be.map(((e,l)=>e(n,l,ye,0)));let Re,De=null,Pe=null;const Oe=1==i?S[0].idxs:null;let Ee,Me,ke,Ae,Ne,Le,Ie,ze,Ce,He,Fe=null,Ve=!1;function Ge(e,t){if(2==i){Re=0;for(let e=1;e<S.length;e++)Re+=l[e][0].length;n.data=l=e}else(l=(e||[]).slice())[0]=l[0]||[],n.data=l.slice(),Fe=l[0],Re=Fe.length,2==O&&(l[0]=Fe.map(((e,l)=>l)));if(n._data=l,el(!0),Kl("setData"),!1!==t){let e=P;e.auto(n,Ve)?Ye():vl(b,e.min,e.max),pe=ge.left>=0,de=!0,ml()}}function Ye(){let e,t;Ve=!0,1==i&&(Re>0?(De=Oe[0]=0,Pe=Oe[1]=Re-1,e=l[0][De],t=l[0][Pe],2==O?(e=De,t=Pe):1==Re&&(3==O?[e,t]=rangeLog(e,e,P.log,!1):4==O?[e,t]=rangeAsinh(e,e,P.log,!1):P.time?t=e+round(86400/_):[e,t]=rangeNum(e,t,.1,!0))):(De=Oe[0]=e=null,Pe=Oe[1]=t=null)),vl(b,e,t)}function We(e="#0000",l,t=EMPTY_ARR,n="butt",i="#0000",s="round"){e!=Ee&&(p.strokeStyle=Ee=e),i!=Me&&(p.fillStyle=Me=i),l!=ke&&(p.lineWidth=ke=l),s!=Ne&&(p.lineJoin=Ne=s),n!=Le&&(p.lineCap=Le=n),t!=Ae&&p.setLineDash(Ae=t)}function Be(e,l,t,n){l!=Me&&(p.fillStyle=Me=l),e!=Ie&&(p.font=Ie=e),t!=ze&&(p.textAlign=ze=t),n!=Ce&&(p.textBaseline=Ce=n)}function Ue(e,l,t,i){if(e.auto(n,Ve)&&(null==l||null==l.min)){let l=De??0,n=Pe??i.length-1,s=null==t.min?3==e.distr?getMinMaxLog(i,l,n):getMinMax(i,l,n):[t.min,t.max];e.min=min(e.min,t.min=s[0]),e.max=max(e.max,t.max=s[1])}}function qe(e,l){let t=l?S[e].points:S[e];t._stroke=t.stroke(n,e),t._fill=t.fill(n,e)}function je(e,l){let t=l?S[e].points:S[e],i=t._stroke,s=t._fill,{stroke:o,fill:r,clip:a,flags:u}=t._paths,c=null,f=roundDec(t.width*pxRatio,3),d=f%2/2;l&&null==s&&(s=f>0?"#fff":i);let m=1==t.pxAlign;if(m&&p.translate(d,d),!l){let e=se,l=oe,n=re,i=ae,s=f*pxRatio/2;0==t.min&&(i+=s),0==t.max&&(l-=s,i+=s),c=new Path2D,c.rect(e,l,n,i)}l?Xe(i,f,t.dash,t.cap,s,o,r,u,a):function(e,l,t,i,s,o,r,a,u,c,f){let p=!1;T.forEach(((d,m)=>{if(d.series[0]==e){let e,h=S[d.series[1]],g=(h._paths||EMPTY_OBJ).band,x=null;h.show&&g?(x=d.fill(n,m)||o,e=h._paths.clip):g=null,Xe(l,t,i,s,x,r,a,u,c,f,e,g),p=!0}})),p||Xe(l,t,i,s,o,r,a,u,c,f)}(e,i,f,t.dash,t.cap,s,o,r,u,c,a),m&&p.translate(-d,-d)}n.setData=Ge;function Xe(e,l,t,n,i,s,o,r,a,u,c,f){We(e,l,t,n,i),(a||u||f)&&(p.save(),a&&p.clip(a),u&&p.clip(u)),f?3==(3&r)?(p.clip(f),c&&p.clip(c),Ke(i,o),Je(e,s,l)):2&r?(Ke(i,o),p.clip(f),Je(e,s,l)):1&r&&(p.save(),p.clip(f),c&&p.clip(c),Ke(i,o),p.restore(),Je(e,s,l)):(Ke(i,o),Je(e,s,l)),(a||u||f)&&p.restore()}function Je(e,l,t){e&&l&&t&&p.stroke(l)}function Ke(e,l){e&&l&&p.fill(l)}function Ze(e,l,t,n,i,s,o,r,a,u){let c=o%2/2;1==g&&p.translate(c,c),We(r,o,a,u,r),p.beginPath();let f,d,m,h,x=i+(0==n||3==n?-s:s);0==t?(d=i,h=x):(f=i,m=x);for(let n=0;n<e.length;n++)null!=l[n]&&(0==t?f=m=e[n]:d=h=e[n],p.moveTo(f,d),p.lineTo(m,h));p.stroke(),1==g&&p.translate(-c,-c)}function $e(e){let l=!0;return w.forEach(((t,i)=>{if(!t.show)return;let s=y[t.scale];if(null==s.min)return void(t._show&&(l=!1,t._show=!1,el(!1)));t._show||(l=!1,t._show=!0,el(!1));let o=t.side,r=o%2,{min:a,max:u}=s,[c,f]=function(e,l,t,i){let s,o=w[e];if(i<=0)s=[0,0];else{let r=o._space=o.space(n,e,l,t,i),a=o._incrs=o.incrs(n,e,l,t,i,r);s=o._found=findIncr(l,t,a,i,r)}return s}(i,a,u,0==r?le:te);if(0==f)return;let p=2==s.distr,d=t._splits=t.splits(n,i,a,u,c,f,p),m=2==s.distr?d.map((e=>Fe[e])):d,h=2==s.distr?Fe[d[1]]-Fe[d[0]]:c,g=t._values=t.values(n,t.filter(n,m,i,f,h),i,f,h);t._rotate=2==o?t.rotate(n,g,i,f):0;let x=t._size;t._size=ceil(t.size(n,g,i,e)),null!=x&&t._size!=x&&(l=!1)})),l}function Qe(e){let l=!0;return be.forEach(((t,i)=>{let s=t(n,i,ye,e);s!=ve[i]&&(l=!1),ve[i]=s})),l}function el(e){S.forEach(((l,t)=>{t>0&&(l._paths=null,e&&(1==i?(l.min=null,l.max=null):l.facets.forEach((e=>{e.min=null,e.max=null}))))}))}let ll,tl,nl,il,sl,ol,rl,al,ul,cl,fl,pl,dl=!1;function ml(){dl||(microTask(hl),dl=!0)}function hl(){ue&&(!function(){let e=copy(y,fastIsObj);for(let l in e){let t=e[l],s=k[l];if(null!=s&&null!=s.min)assign(t,s),l==b&&el(!0);else if(l!=b||2==i)if(0==Re&&null==t.from){let e=t.range(n,null,null,l);t.min=e[0],t.max=e[1]}else t.min=inf,t.max=-inf}if(Re>0){S.forEach(((t,s)=>{if(1==i){let i=t.scale,o=e[i],r=k[i];if(0==s){let e=o.range(n,o.min,o.max,i);o.min=e[0],o.max=e[1],De=closestIdx(o.min,l[0]),Pe=closestIdx(o.max,l[0]),l[0][De]<o.min&&De++,l[0][Pe]>o.max&&Pe--,t.min=Fe[De],t.max=Fe[Pe]}else t.show&&t.auto&&Ue(o,r,t,l[s]);t.idxs[0]=De,t.idxs[1]=Pe}else if(s>0&&t.show&&t.auto){let[n,i]=t.facets,o=n.scale,r=i.scale,[a,u]=l[s];Ue(e[o],k[o],n,a),Ue(e[r],k[r],i,u),t.min=i.min,t.max=i.max}}));for(let l in e){let t=e[l],i=k[l];if(null==t.from&&(null==i||null==i.min)){let e=t.range(n,t.min==inf?null:t.min,t.max==-inf?null:t.max,l);t.min=e[0],t.max=e[1]}}}for(let l in e){let t=e[l];if(null!=t.from){let i=e[t.from],s=t.range(n,i.min,i.max,l);t.min=s[0],t.max=s[1]}}let t={},s=!1;for(let l in e){let n=e[l],i=y[l];if(i.min!=n.min||i.max!=n.max){i.min=n.min,i.max=n.max;let e=i.distr;i._min=3==e?log10(i.min):4==e?asinh(i.min,i.asinh):i.min,i._max=3==e?log10(i.max):4==e?asinh(i.max,i.asinh):i.max,t[l]=s=!0}}if(s){S.forEach(((e,l)=>{2==i?l>0&&t.y&&(e._paths=null):t[e.scale]&&(e._paths=null)}));for(let e in t)fe=!0,Kl("setScale",e);ge.show&&(pe=de=ge.left>=0)}for(let e in k)k[e]=null}(),ue=!1),fe&&(!function(){let e=!1,l=0;for(;!e;){l++;let t=$e(l),i=Qe(l);e=3==l||t&&i,e||(he(n.width,n.height),ce=!0)}}(),fe=!1),ce&&(setStylePx(m,LEFT,ne),setStylePx(m,TOP,ie),setStylePx(m,WIDTH,le),setStylePx(m,HEIGHT,te),setStylePx(h,LEFT,ne),setStylePx(h,TOP,ie),setStylePx(h,WIDTH,le),setStylePx(h,HEIGHT,te),setStylePx(d,WIDTH,Q),setStylePx(d,HEIGHT,ee),f.width=round(Q*pxRatio),f.height=round(ee*pxRatio),Ee=Me=ke=Ne=Le=Ie=ze=Ce=Ae=null,He=1,Vl(!1),Kl("setSize"),ce=!1),Q>0&&ee>0&&(p.clearRect(0,0,f.width,f.height),Kl("drawClear"),R.forEach((e=>e())),Kl("draw")),ge.show&&pe&&(Hl(null,!0,!1),pe=!1),u||(u=!0,n.status=1,Kl("ready")),Ve=!1,dl=!1}function gl(e,t){let i=y[e];if(null==i.from){if(0==Re){let l=i.range(n,t.min,t.max,e);t.min=l[0],t.max=l[1]}if(t.min>t.max){let e=t.min;t.min=t.max,t.max=e}if(Re>1&&null!=t.min&&null!=t.max&&t.max-t.min<1e-16)return;e==b&&2==i.distr&&Re>0&&(t.min=closestIdx(t.min,l[0]),t.max=closestIdx(t.max,l[0])),k[e]=t,ue=!0,ml()}}n.redraw=(e,l)=>{fe=l||!1,!1!==e?vl(b,P.min,P.max):ml()},n.setScale=gl;let xl=!1;const _l=ge.drag;let Sl=_l.x,wl=_l.y;ge.show&&(ge.x&&(ll=placeDiv(CURSOR_X,h)),ge.y&&(tl=placeDiv(CURSOR_Y,h)),0==P.ori?(nl=ll,il=tl):(nl=tl,il=ll),fl=ge.left,pl=ge.top);const yl=n.select=assign({show:!0,over:!0,left:0,width:0,top:0,height:0},e.select),Tl=yl.show?placeDiv(SELECT,yl.over?h:m):null;function bl(e,l){if(yl.show){for(let l in e)setStylePx(Tl,l,yl[l]=e[l]);!1!==l&&Kl("setSelect")}}function vl(e,l,t){gl(e,{min:l,max:t})}function Rl(e,l,t,s){let o=S[e];null!=l.focus&&function(e){if(e!=Ol){let l=null==e,t=1!=xe.alpha;S.forEach(((n,i)=>{let s=l||0==i||i==e;n._focus=l?null:s,t&&function(e,l){S[e].alpha=l,ge.show&&Se[e]&&(Se[e].style.opacity=l);F&&W[e]&&(W[e].style.opacity=l)}(i,s?1:xe.alpha)})),Ol=e,t&&ml()}}(e),null!=l.show&&(o.show=l.show,function(e,l){let t=S[e],n=F?W[e]:null;t.show?n&&remClass(n,OFF):(n&&addClass(n,OFF),Se.length>1&&elTrans(Se[e],-10,-10,le,te))}(e,l.show),vl(2==i?o.facets[1].scale:o.scale,null,null),ml()),!1!==t&&Kl("setSeries",e,l),s&&et("setSeries",n,e,l)}let Dl,Pl,Ol;n.setSelect=bl,n.setSeries=Rl,n.addBand=function(e,l){e.fill=fnOrSelf(e.fill||null),l=null==l?T.length:l,T.splice(l,0,e)},n.setBand=function(e,l){assign(T[e],l)},n.delBand=function(e){null==e?T.length=0:T.splice(e,1)};const El={focus:!0},Ml={focus:!1};function kl(e,l,t){let n=y[l];t&&(e=e/pxRatio-(1==n.ori?ie:ne));let i=le;1==n.ori&&(i=te,e=i-e),-1==n.dir&&(e=i-e);let s=n._min,o=s+(n._max-s)*(e/i),r=n.distr;return 3==r?pow(10,o):4==r?sinh(o,n.asinh):o}function Al(e,l){setStylePx(Tl,LEFT,yl.left=e),setStylePx(Tl,WIDTH,yl.width=l)}function Nl(e,l){setStylePx(Tl,TOP,yl.top=e),setStylePx(Tl,HEIGHT,yl.height=l)}F&&_e&&on(mouseleave,G,(e=>{ge._lock||(Rl(null,Ml,!0,Zl.setSeries),Hl(null,!0,!1))})),n.valToIdx=e=>closestIdx(e,l[0]),n.posToIdx=function(e,t){return closestIdx(kl(e,b,t),l[0],De,Pe)},n.posToVal=kl,n.valToPos=(e,l,t)=>0==y[l].ori?o(e,y[l],t?re:le,t?se:0):r(e,y[l],t?ae:te,t?oe:0),n.batch=function(e){e(n),ml()},n.setCursor=(e,l,t)=>{fl=e.left,pl=e.top,Hl(null,l,t)};let Ll=0==P.ori?Al:Nl,Il=1==P.ori?Al:Nl;function zl(e,l){if(null!=e){let l=e.idx;H.idx=l,S.forEach(((e,t)=>{(t>0||!U)&&Cl(t,l)}))}F&&H.live&&function(){if(F&&H.live)for(let e=2==i?1:0;e<S.length;e++){if(0==e&&U)continue;let l=H.values[e],t=0;for(let n in l)B[e][t++].firstChild.nodeValue=l[n]}}(),de=!1,!1!==l&&Kl("setLegend")}function Cl(e,t){let i;if(null==t)i=q;else{let s=S[e],o=0==e&&2==O?Fe:l[e];i=U?s.values(n,e,t):{_:s.value(n,o[t],e,t)}}H.values[e]=i}function Hl(e,t,s){let o;ul=fl,cl=pl,[fl,pl]=ge.move(n,fl,pl),ge.show&&(nl&&elTrans(nl,round(fl),0,le,te),il&&elTrans(il,0,round(pl),le,te));let r=De>Pe;Dl=inf;let a=0==P.ori?le:te,c=1==P.ori?le:te;if(fl<0||0==Re||r){o=null;for(let e=0;e<S.length;e++)e>0&&Se.length>1&&elTrans(Se[e],-10,-10,le,te);if(_e&&Rl(null,El,!0,null==e&&Zl.setSeries),H.live){C.fill(null),de=!0;for(let e=0;e<S.length;e++)H.values[e]=q}}else{let e,t,s;1==i&&(e=0==P.ori?fl:pl,t=kl(e,b),o=closestIdx(t,l[0],De,Pe),s=incrRoundUp(E(l[0][o],P,a,0),.5));for(let e=2==i?1:0;e<S.length;e++){let r=S[e],u=C[e],f=1==i?l[e][u]:l[e][1][u],p=ge.dataIdx(n,e,o,t),d=1==i?l[e][p]:l[e][1][p];de=de||d!=f||p!=u,C[e]=p;let m=p==o?s:incrRoundUp(E(1==i?l[0][p]:l[e][0][p],P,a,0),.5);if(e>0&&r.show){let l,t,s=null==d?-10:incrRoundUp(M(d,1==i?y[r.scale]:y[r.facets[1].scale],c,0),.5);if(s>0&&1==i){let l=abs(s-pl);l<=Dl&&(Dl=l,Pl=e)}0==P.ori?(l=m,t=s):(l=s,t=m),de&&Se.length>1&&(elTrans(Se[e],l,t,le,te),elColor(Se[e],ge.points.fill(n,e),ge.points.stroke(n,e)),2==i&&elSize(Se[e],ge.points.size(n,e)))}if(H.live){if(!de||0==e&&U)continue;Cl(e,p)}}}if(de&&(H.idx=o,zl()),yl.show&&xl)if(null!=e){let[l,t]=Zl.scales,[n,i]=Zl.match,[s,o]=e.cursor.sync.scales,r=e.cursor.drag;Sl=r._x,wl=r._y;let u,f,p,d,m,{left:h,top:g,width:x,height:_}=e.select,S=e.scales[l].ori,w=e.posToVal,T=null!=l&&n(l,s),b=null!=t&&i(t,o);T&&(0==S?(u=h,f=x):(u=g,f=_),Sl?(p=y[l],d=E(w(u,s),p,a,0),m=E(w(u+f,s),p,a,0),Ll(min(d,m),abs(m-d))):Ll(0,a),b||Il(0,c)),b&&(1==S?(u=h,f=x):(u=g,f=_),wl?(p=y[t],d=M(w(u,o),p,c,0),m=M(w(u+f,o),p,c,0),Il(min(d,m),abs(m-d))):Il(0,c),T||Ll(0,a))}else{let e=abs(ul-sl),l=abs(cl-ol);if(1==P.ori){let t=e;e=l,l=t}Sl=_l.x&&e>=_l.dist,wl=_l.y&&l>=_l.dist;let t,n,i=_l.uni;null!=i?Sl&&wl&&(Sl=e>=i,wl=l>=i,Sl||wl||(l>e?wl=!0:Sl=!0)):_l.x&&_l.y&&(Sl||wl)&&(Sl=wl=!0),Sl&&(0==P.ori?(t=rl,n=fl):(t=al,n=pl),Ll(min(t,n),abs(n-t)),wl||Il(0,c)),wl&&(1==P.ori?(t=rl,n=fl):(t=al,n=pl),Il(min(t,n),abs(n-t)),Sl||Ll(0,a)),Sl||wl||(Ll(0,0),Il(0,0))}if(ge.idx=o,ge.left=fl,ge.top=pl,_l._x=Sl,_l._y=wl,null==e){if(s){if(null!=$l){let[e,l]=Zl.scales;Zl.values[0]=null!=e?kl(0==P.ori?fl:pl,e):null,Zl.values[1]=null!=l?kl(1==P.ori?fl:pl,l):null}et(mousemove,n,fl,pl,le,te,o)}if(_e){let e=s&&Zl.setSeries,l=xe.prox;null==Ol?Dl<=l&&Rl(Pl,El,!0,e):Dl>l?Rl(null,El,!0,e):Pl!=Ol&&Rl(Pl,El,!0,e)}}u&&!1!==t&&Kl("setCursor")}n.setLegend=zl;let Fl=null;function Vl(e){!0===e?Fl=null:(Fl=h.getBoundingClientRect(),Kl("syncRect",Fl))}function Gl(e,l,t,n,i,s,o){ge._lock||(Yl(e,l,t,n,i,s,o,!1,null!=e),null!=e?Hl(null,!0,!0):Hl(l,!0,!1))}function Yl(e,l,t,i,s,o,r,u,c){if(null==Fl&&Vl(!1),null!=e)t=e.clientX-Fl.left,i=e.clientY-Fl.top;else{if(t<0||i<0)return fl=-10,void(pl=-10);let[e,n]=Zl.scales,r=l.cursor.sync,[u,c]=r.values,[f,p]=r.scales,[d,m]=Zl.match,h=1==l.scales[f].ori,g=0==P.ori?le:te,x=1==P.ori?le:te,_=h?o:s,S=h?s:o,w=h?i:t,T=h?t:i;if(t=null!=f?d(e,f)?a(u,y[e],g,0):-10:g*(w/_),i=null!=p?m(n,p)?a(c,y[n],x,0):-10:x*(T/S),1==P.ori){let e=t;t=i,i=e}}c&&((t<=1||t>=le-1)&&(t=incrRound(t,le)),(i<=1||i>=te-1)&&(i=incrRound(i,te))),u?(sl=t,ol=i,[rl,al]=ge.move(n,t,i)):(fl=t,pl=i)}function Wl(){bl({width:0,height:0},!1)}function Bl(e,l,t,i,s,o,r){xl=!0,Sl=wl=_l._x=_l._y=!1,Yl(e,l,t,i,s,o,0,!0,!1),null!=e&&(Z(mouseup,doc,Ul),et(mousedown,n,rl,al,le,te,null))}function Ul(e,l,t,i,s,o,r){xl=_l._x=_l._y=!1,Yl(e,l,t,i,s,o,0,!1,!0);let{left:a,top:u,width:c,height:f}=yl,p=c>0||f>0;if(p&&bl(yl),_l.setScale&&p){let e=a,l=c,t=u,n=f;if(1==P.ori&&(e=u,l=f,t=a,n=c),Sl&&vl(b,kl(e,b),kl(e+l,b)),wl)for(let e in y){let l=y[e];e!=b&&null==l.from&&l.min!=inf&&vl(e,kl(t+n,e),kl(t,e))}Wl()}else ge.lock&&(ge._lock=!ge._lock,ge._lock||Hl(null,!0,!1));null!=e&&($(mouseup,doc),et(mouseup,n,fl,pl,le,te,null))}function ql(e,l,t,i,s,o,r){Ye(),Wl(),null!=e&&et(dblclick,n,fl,pl,le,te,null)}function jl(){w.forEach(syncFontSize),me(n.width,n.height,!0)}on(dppxchange,win,jl);const Xl={};Xl.mousedown=Bl,Xl.mousemove=Gl,Xl.mouseup=Ul,Xl.dblclick=ql,Xl.setSeries=(e,l,t,n)=>{Rl(t,n,!0,!1)},ge.show&&(Z(mousedown,h,Bl),Z(mousemove,h,Gl),Z(mouseenter,h,Vl),Z(mouseleave,h,(function(e,l,t,n,i,s,o){if(!ge._lock){let e=xl;if(xl){let e,l,t=!0,n=!0,i=10;0==P.ori?(e=Sl,l=wl):(e=wl,l=Sl),e&&l&&(t=fl<=i||fl>=le-i,n=pl<=i||pl>=te-i),e&&t&&(fl=fl<rl?0:le),l&&n&&(pl=pl<al?0:te),Hl(null,!0,!0),xl=!1}fl=-10,pl=-10,Hl(null,!0,!0),e&&(xl=e)}})),Z(dblclick,h,ql),cursorPlots.add(n),n.syncRect=Vl);const Jl=n.hooks=e.hooks||{};function Kl(e,l,t){e in Jl&&Jl[e].forEach((e=>{e.call(null,n,l,t)}))}(e.plugins||[]).forEach((e=>{for(let l in e.hooks)Jl[l]=(Jl[l]||[]).concat(e.hooks[l])}));const Zl=assign({key:null,setSeries:!1,filters:{pub:retTrue,sub:retTrue},scales:[b,S[1]?S[1].scale:null],match:[retEq,retEq],values:[null,null]},ge.sync);ge.sync=Zl;const $l=Zl.key,Ql=_sync($l);function et(e,l,t,n,i,s,o){Zl.filters.pub(e,l,t,n,i,s,o)&&Ql.pub(e,l,t,n,i,s,o)}function lt(){Kl("init",e,l),Ge(l||e.data,!1),k[b]?gl(b,k[b]):Ye(),me(e.width,e.height),Hl(null,!0,!1),bl(yl,!1)}return Ql.sub(n),n.pub=function(e,l,t,n,i,s,o){Zl.filters.sub(e,l,t,n,i,s,o)&&Xl[e](null,l,t,n,i,s,o)},n.destroy=function(){Ql.unsub(n),cursorPlots.delete(n),K.clear(),off(dppxchange,win,jl),c.remove(),Kl("destroy")},S.forEach(we),w.forEach((function(e,l){if(e._show=e.show,e.show){let t=e.side%2,i=y[e.scale];null==i&&(e.scale=t?S[1].scale:b,i=y[e.scale]);let s=i.time;e.size=fnOrSelf(e.size),e.space=fnOrSelf(e.space),e.rotate=fnOrSelf(e.rotate),e.incrs=fnOrSelf(e.incrs||(2==i.distr?wholeIncrs:s?1==_?timeIncrsMs:timeIncrsS:numIncrs)),e.splits=fnOrSelf(e.splits||(s&&1==i.distr?L:3==i.distr?logAxisSplits:4==i.distr?asinhAxisSplits:numAxisSplits)),e.stroke=fnOrSelf(e.stroke),e.grid.stroke=fnOrSelf(e.grid.stroke),e.ticks.stroke=fnOrSelf(e.ticks.stroke);let o=e.values;e.values=isArr(o)&&!isArr(o[0])?fnOrSelf(o):s?isArr(o)?timeAxisVals(A,timeAxisStamps(o,N)):isStr(o)?timeAxisVal(A,o):o||I:o||numAxisVals,e.filter=fnOrSelf(e.filter||(i.distr>=3?logAxisValsFilt:retArg1)),e.font=pxRatioFont(e.font),e.labelFont=pxRatioFont(e.labelFont),e._size=e.size(n,null,l,0),e._space=e._rotate=e._incrs=e._found=e._splits=e._values=null,e._size>0&&(ye[l]=!0)}})),t?t instanceof HTMLElement?(t.appendChild(c),lt()):t(n,lt):lt(),n}uPlot.assign=assign,uPlot.fmtNum=fmtNum,uPlot.rangeNum=rangeNum,uPlot.rangeLog=rangeLog,uPlot.rangeAsinh=rangeAsinh,uPlot.orient=orient,uPlot.join=join,uPlot.fmtDate=fmtDate,uPlot.tzDate=tzDate,uPlot.sync=_sync;{uPlot.addGap=addGap,uPlot.clipGaps=clipGaps;let e=uPlot.paths={points};e.linear=linear,e.stepped=stepped,e.bars=bars,e.spline=monotoneCubic}export{uPlot as default};